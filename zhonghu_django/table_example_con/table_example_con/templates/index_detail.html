{% load static %}
<!doctype html>
<html>
<head>
  <title>Table {{ table_name }}</title>
  <link rel="stylesheet" href="/static/css/bootstrap.min.css"/>
</head>
<body class="p-3">
  <div class="container">
    <h3>Table: {{ table_name }}</h3>
    <p>总行数: {{ total }} · 第 {{ page }} / {{ total_pages }} 页</p>

    <table class="table table-sm table-bordered table-hover">
      <thead class="thead-light">
        <tr>
          {% for c in cols %}
            <th>{{ c }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in rows %}
          <tr>
            {% for cell in row %}
              <td>{{ cell }}</td>
            {% endfor %}
          </tr>
        {% empty %}
          <tr><td colspan="{{ cols|length }}">没有数据</td></tr>
        {% endfor %}
      </tbody>
    </table>

    <nav aria-label="Page navigation">
      <ul class="pagination">
        {% if page > 1 %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page|add:"-1" }}">上一页</a>
          </li>
        {% else %}
          <li class="page-item disabled"><span class="page-link">上一页</span></li>
        {% endif %}

        <li class="page-item disabled"><span class="page-link">页 {{ page }} / {{ total_pages }}</span></li>

        {% if page < total_pages %}
          <li class="page-item">
            <a class="page-link" href="?page={{ page|add:"1" }}">下一页</a>
          </li>
        {% else %}
          <li class="page-item disabled"><span class="page-link">下一页</span></li>
        {% endif %}
      </ul>
    </nav>

    <p><a href="{% url 'index' %}">返回表列表</a></p>
  </div>
</body>
</html>
